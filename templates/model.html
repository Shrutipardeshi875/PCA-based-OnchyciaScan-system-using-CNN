{% extends 'base.html' %}

{% load static %}


{% block title %}
    Predict
{% endblock %}

{% block content %}

<style>
    body 
    .container-fluid {
        padding: 1rem;
    }

    .wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        margin-top: 2rem;
    }

    .file-upload {
        height: 150px;
        width: 150px;
        border-radius: 75px;
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        border: 4px solid #f9f9f9;
        overflow: hidden;
        background-image: linear-gradient(to bottom, #ffb6a3 50%, #edc9cb 50%);
        background-size: 100% 200%;
        transition: all 1s;
        color: #ffb6a3;
        font-size: 40px;
    }

    input[type='file'] {
        height: 150px;
        width: 150px;
        position: absolute;
        top: 0;
        left: 0;
        opacity: 0;
        cursor: pointer;
        color: #ffb6a3;
    }

    .file-upload:hover {
        background-position: 0 -100%;
        color: #ffb6a3;
    }

    button {
        color: #a7417d;
        border: 2px solid #a7417d; /* Button border color */
        padding: 12px 24px; /* Added padding for a better size */
        background: #f9f9f9;
        cursor: pointer;
        font-size: 18px;
        border-radius: 30px; /* Rounded corners for the button */
        transition: background-color 0.3s ease, color 0.3s ease; /* Smooth hover effect */
        font-weight: bold;
    }

    .file-heading {
        color: #a7417d;
        font-weight: bold;
        margin-top: 1rem;
    }

    .alert-info {
        width: 50%;
        text-align: center;
        margin: 0 auto;
        margin-top: 1rem;
    }


</style>

<!-- Home Banner -->
<section class="section section-search">
    <div class="container-fluid">
        <div class="banner-wrapper">
            <div class="banner-header text-center">
                <h1>Upload and Predict Nail Disease</h1>
                <p> Get instant nail disease analysis based on image of your nail.</p>
            </div>

            <div class="container">
                <div class="wrapper">
                    <span class="file-heading" id="file-heading">No File Chosen</span>
                    <form method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        {{ form.as_p }}
                        <div class="wrapper">
                            <div class="file-upload">
                                <input type="file" id="file-input" required accept=".jpg, .png, .jpeg" name="fileinput" onchange="set_filename()" />
                                <img src="{% static 'assets/img/favicon.png' %}" alt="Logo" width="auto" height="60%" class="d-inline-block align-text-top">
                            </div>
                        </div>
                        <div class="wrapper">
                            <button type="submit">Upload Image File And Detect Nail Disease</button>
                        </div>
                    </form>

                </div>
            </div>
        
        </div>
    </div>
</section>

<section class="section section-doctor">


    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-4">
                <div class="section-header">
                    <h2>Detect Nail Disease</h2>
                    <p>Upload the image and let AI do it's magic</p>
                </div>
                
                <div class="about-content">
                    <p>Welcome to our Nail Disease Detector, an innovative solution designed to aid in the early detection of various nail diseases.</p>
                    <p>Simply upload an image of your nails, and our advanced system, powered by PCA+CNN technology, will swiftly analyze the image, providing you with a percentage-based assessment of the likelihood of nail diseases. We strive to make healthcare more accessible and proactive, ensuring early intervention for better outcomes. Your well-being matters, and we are here to help safeguard your health with precision and care.</p>
                    <a href="{% url 'doctors:list' %}">View all doctors</a>
                </div>
            </div>
            <div class="col-lg-8">
                <div class="doctor-slider slider">

                        <!-- Doctor Widget -->
                        <div class="profile-widget">
                            <div class="doc-img">
                                    <img class="img-fluid" alt="Doctor Image" src="{% static 'assets/img/specialities/5.png' %}">
                            </div>
                            <div class="pro-content">
                                <h3 class="title">
                                    <a href="#">Acral Lentiginous</a>
                                    <i class="fas fa-check-circle verified"></i>
                                </h3>
                            </div>
                        </div>
                        <!-- /Doctor Widget -->

                        <!-- Doctor Widget -->
                        <div class="profile-widget">
                            <div class="doc-img">
                                    <img class="img-fluid" alt="Doctor Image" src="{% static 'assets/img/specialities/2.png' %}">
                            </div>
                            <div class="pro-content">
                                <h3 class="title">
                                    <a href="#">Healthy Nail</a>
                                    <i class="fas fa-check-circle verified"></i>
                                </h3>
                            </div>
                        </div>
                        <!-- /Doctor Widget -->

                        <!-- Doctor Widget -->
                        <div class="profile-widget">
                            <div class="doc-img">
                                    <img class="img-fluid" alt="Doctor Image" src="{% static 'assets/img/specialities/1.png' %}">
                            </div>
                            <div class="pro-content">
                                <h3 class="title">
                                    <a href="#">Blue Nail</a>
                                    <i class="fas fa-check-circle verified"></i>
                                </h3>
                            </div>
                        </div>
                        <!-- /Doctor Widget -->

                        <!-- Doctor Widget -->
                        <div class="profile-widget">
                            <div class="doc-img">
                                    <img class="img-fluid" alt="Doctor Image" src="{% static 'assets/img/specialities/4.png' %}">
                            </div>
                            <div class="pro-content">
                                <h3 class="title">
                                    <a href="#">Onychogryphosis</a>
                                    <i class="fas fa-check-circle verified"></i>
                                </h3>
                            </div>
                        </div>
                        <!-- /Doctor Widget -->


                        <!-- Doctor Widget -->
                        <div class="profile-widget">
                            <div class="doc-img">
                                    <img class="img-fluid" alt="Doctor Image" src="{% static 'assets/img/specialities/3.png' %}">
                            </div>
                            <div class="pro-content">
                                <h3 class="title">
                                    <a href="#">Pitting</a>
                                    <i class="fas fa-check-circle verified"></i>
                                </h3>
                            </div>
                        </div>
                        <!-- /Doctor Widget -->

                        <!-- Doctor Widget -->
                        <div class="profile-widget">
                            <div class="doc-img">
                                    <img class="img-fluid" alt="Doctor Image" src="{% static 'assets/img/specialities/6.png' %}">
                            </div>
                            <div class="pro-content">
                                <h3 class="title">
                                    <a href="#">Clubbing</a>
                                    <i class="fas fa-check-circle verified"></i>
                                </h3>
                            </div>
                        </div>
                        <!-- /Doctor Widget -->


                </div>
            </div>
        </div>
    </div>
</section>



<script>
    function set_filename() {
        var name = document.getElementById('file-input');
        var files_names = '';
        for (var i = 0; i < name.files.length; i++) {
            var file_name = name.files.item(i).name;
            files_names = files_names + file_name + "<br/>";
        }
        var file_heading = document.getElementById('file-heading');
        file_heading.innerHTML = files_names;
    }
</script>

<script>
    var info_messages = document.getElementsByClassName('alert-info');
    setTimeout(function () {
        for (var i = 0; i < info_messages.length; i++) {
            info_messages[i].style.display = 'none';
        }
    }, 5000);
</script>


{% endblock %}
